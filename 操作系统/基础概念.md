## 基础概念

1. 死锁的4个必要条件
2. 如何避免死锁
3. Windows下的内存是如何管理的
4. 中断和轮询
5. 分段和分页的区别？
6. 死锁的避免-银行家算法
7. 死锁的预防
7. 哲学家吃饭

***
#### 什么是死锁？
* 死锁：在2个或多个并发进程中，如果每个进程持有资源而等待其他进程释放它所拥有的资源，没有改变状态之前无法向前推进，造成一种循环等待资源的状态，叫死锁。

#### 死锁的4个必要条件
1. 互斥：进程得到资源之后，其他进程只能等待该进程释放资源
2. 请求和保持：成金请求资源而阻塞时，对已获得的资源保持不放
3. 不剥夺：进程获得资源，在未使用完之前，不能剥夺，只能在使用完之后自己释放
4. 循环等待：进程-资源形成首尾循环请求


#### Windows下的内存是如何管理的
1. 虚拟内存：管理大型对象或者结构数组
2. 内存映射文件：使用用来管理大型数据流(来自文件)，以及在单个计算机上运行多个进程之间共享数据
3. 内存堆栈：管理大量的小数据


#### 中断和轮询
1. 轮询：早期的计算机系统对I/O设备的一种管理方式。它定时对各种设备轮流询问一遍有无处理要求。
2. 轮询效率低，等待时间很长，CPU利用率不高；中断容易遗漏一些问题，CPU利用率高。



#### 分段和分页
* 分页：页是信息的物理单位，分页是为了实现离散分配方式，咦减少内存的外零头，提高内存的利用率
  * 页的大小固定，由系统确定
  * 逻辑地址：页号和页内地址
* 分段：段时信息的逻辑单位，含有一组其意义相对完整的信息。
  * 分段目的：为了能更好地满足用户的需求
* 分页的作业地址是一维的（单一线性空间），分段的作业地址是二维的（段名，段内地址）


#### 死锁的避免-银行家算法
* 银行家算法通过先 试探 分配给该进程资源，然后通过安全性算法判断分配后的系统是否处于安全状态，若不安全则试探分配作废，让该进程继续等待。
![](https://img-blog.csdn.net/20180508204335770?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMzNDE0Mjcx/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
* Q：该状态是否安全？
* Q：若进程P2提出请求Request（1，2，2，2）后，系统能否将资源分配给它？


#### 死锁的预防
* 破坏“不可剥夺”：进程不能获得所需要的全部资源，等待他占有的资源被隐式释放，重新加入到系统资源列表
* 破坏“请求与保持”：
  * 静态分配：每个进程在开始执行时就申请他所需要的全部资源
  * 动态分配：每个进程在申请所需要的资源时，本身不占用资源
* 破坏“循环等待”：申请资源按照编号顺序进行，紧缺的，稀少的采用较大的编号，一个进程只有获得较小编号的进程才能申请较大编号的进程
