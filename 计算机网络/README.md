# 计算机网络

| INDEX1 | INDEX2 | INDEX3 | INDEX4 | INDEX5 | INDEX6 |
| :----: | :----: | :----: | :----: | :----: | :----: |
| TCP/IP协议体系 | 数据链路层 | 网路层 | 传输层 | TCP/UDP | I/0多路复用 |


***

### 七层网络模型

* 应用层（数据）
  * 确定进程之间通信的性质，满足用户的特定需求，提供网络与用户应用

* 表示层（数据）
  * 解决用户信息的语法问题：加密、解密

* 会话层（数据）
  * 提供建立，维护应用之间的通信机制（访问验证，会话管理），如：服务器验证用户登陆

* 传输层（段）
  * 实现网络上不同主机用户进程之间的数据通信（可靠与不可靠传输，传输层的错误检测，流量控制）

* 网络层（包）
  * 提供逻辑地址、选路，数据从源端到目的端的传输

* 数据链路层（帧）
  * 将上层数据封装成帧，用MAC地址访问媒介，错误检测与修正
  * 帧和介质访问控制
    * 报文成帧问题：将比特流组合成以帧为单位传送。每个帧除了`要传送的数据`外，还包括`校验码`，以使接收方能发现传输中的差错。(在比特流中标识帧的起止位置 + 校验一帧报文是否完整)
    * 链路的建立管理与维护：是否就绪 + 释放连接
    * 可靠性问题：差错控制（物理链路性能和网络通信环境） + 流量控制（通信有序，数据丢失）

* 物理层（比特流）
  * 设备之间比特流的传输（物理接口，电气特性）



### 四层网络模型

* 应用层（应用层，表示层，会话层）
  * SMTP（简单电子邮件传输）、FTP（文件传输协议）、Telnet（网络远程访问协议）、HTTP（超文本传输协议）
* 传输层（传输层）
  * TCP（传输控制协议）、UDP（用户数据报协议）
* 网际层（网络层）
  * IP（互联网协议地址）、ICMP（网络控制报文协议）
* 网络接口层（数据链路层，物理层）
  * ARP（地址解析协议）、RARP（反向地址转换协议）、PPP（点对点协议）、IEEE以太网协议


***

### 端口号与ip、网关的作用

* 端口号：使用端口号和网络地址的组合可以唯一地确定整个网络中的一个网络进程。
* IP：确定进程所在的计算机
* 网关的作用：网关通常支持从一个网络到另一个网络的地址映射，并且还可以提供环境间的数据传输以支持端到端的应用连接。


### 各层的数据交换设备

* 网关（应用层、传输层）
  * 仅用于两个高层协议不同的网络互连
  * 既可以用于广域网互联，也可以用于局域网互联

* 路由器（网络层）
  * 路由选择，存储转发

* 交换机（数据链路层、网络层）
  * 识别数据包中的MAC地址，根据MAC地址进行转发，并将这些MAC地址与对应的端口记录在内部的地址表中

* 网桥（数据链路层）
  * 连接两个局域网LAN，根据MAC地址转发帧


* 集线器（物理层）
  * 纯硬件设备
  * 主要用来连接计算机等网络终端

* 中继器（物理层）
  * 在比特级别对网络信号进行再生和重定，使得它们能够在网络上传输更长的距离



***

## 要掌握的知识点
1. TCP/IP协议体系的认知
* 操作系统内核空间：数据链路层，网络层，传输层
* 用户空间：应用层（应用层，表示层，会话层）【DNS,FTP,HTTP,HTTPS】
2. 数据链路层
* 以太网帧的格式
* MTU的概念
* ARP协议和RARP协议
  * 数据链路层和网络层之间的协议
  * 报文格式
  * ARP查询原理
  * ARP缓存
3. 网络层
* IP协议
  * IP的首部格式
    * 16位分片标识
    * DF不分片标识
    * MF更多分片标识
    * 13位片偏移
    * 8位生存时间
    * 16位首部检验和
  * 掌握IP的分片
    * 给很长的数据包，画IP分片的情况
    * 避免IP分片
    * 确定分片的顺序
    * 确定一个IP包所有的分片都到达了
  * 掌握IP选路
    * 路由表：每个字段的含义（route print）
* ICMP协议：因特网控制报文协议
  * 网络层和传输层之间的协议
  * 掌握ICMP协议的报文格式
  * 报文的两大分类：查询（2种查询报文） + 差错（5种差错报文）
4. 传输层协议
* UDP
  * 无连接，不可靠的特点
  * 首部的各个字段
* TCP
  * TCP特点：面向连接，可靠的
  * TCP首部格式：序号，确认号，首部长度，窗口大小，校验和
  * 连接控制
    * 三次握手
    * 四次挥手
    * 同时打开
    * 同时关闭
    * 半关闭
  * TCP流量控制机制
    * 滑动窗口
    * 慢启动
    * 拥塞避免
    * 快速重传
    * 快速恢复
  * TCP超时重传机制
    * 各种定时器（4个）
>Q：为什么要三次握手，四次挥手？

>Q：为什么TCP和UDP都存在伪包头？

5. 应用层
* DNS协议：域名解析协议
  * 域名到IP地址的解析
  * DNS的名字空间
  * DNS指针查询（反向查询或逆向查询）基本原理
  * DNS缓存
* FTP协议：网络界的活化石
  * 两条连接：控制连接 + 数据连接
  * 为什么需要控制流和数据流？
  * 两种工作模式：PASV + PORT
  * 各种FTP指令和响应码
  * 上传下载：FTP断点续传、匿名FTP
* HTTP协议
  * 报文格式：请求报文、响应报文、请求头各种字段、响应头各种字段
  * HTTP状态码
* HTTPS协议（国外网站）（加密）
  * HTTPS的详细握手过程
  * 摘要算法、数字签名、数字证书的原理和过程
