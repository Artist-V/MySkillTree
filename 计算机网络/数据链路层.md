## 数据链路层

ARP：数据链路层和网络层之间的协议

1. ARP协议的作用

2. PPP使用ARP吗？

3. ARP高效运行的关键是什么？

4. ARP报文每个字段，及其含义？

5. ARP协议的弱点？

6. ARP代理的概念的应用场景

7. 免费ARP

8. MTU的概念【数据链路层MTU的最大值和最小值是多少？】

9. ARP查询原理

10. ARP缓存

11. 以太网帧的格式

***
#### ARP协议的作用


#### PPP使用ARP吗？


#### ARP高效运行的关键是什么？


#### ARP报文每个字段，及其含义？


#### ARP协议的弱点？


#### ARP代理的概念的应用场景


#### 免费ARP


#### MTU的概念【数据链路层MTU的最大值和最小值是多少？】
1. MTU：最大传输单元

  * 指一种通信协议的某一层上面所能通过的最大数据包大小（以字节为单位）

    * 最大传输单元这个参数通常与通信接口有关（网络接口卡、串口等）

    * MTU也不是越大越好，因为MTU越大，传送一个数据包通信效率越高而传输延迟增大，数据包中 bit位发生错误的概率也越大。所以要权衡通信效率和传输延迟选择合适的MTU。

2. 数据链路层MTU的最大值和最小值是多少？


#### ARP查询原理
1. 每个主机都会在自己的 ARP 缓冲区中建立一个 ARP 列表，以表示 IP 地址和 MAC 地址之间的对应关系。

2. 当主机A向主机B发送数据时，先在自己的ARP缓冲表中查看有没有主机B的IP地址

3. 若有，则直接查出主机B对应的MAC地址，直接向其发送数据

4. 若没有，则更新自己的缓冲区，将主机B与其MAC地址的映射关系更新到自己的ARP缓冲列表中【ARP请求分组，ARP响应分组】

  * 在本局域网上广播一个ARP请求分组。ARP请求分组的主要内容是表明：我的IP地址是192.168.0.2，我的硬件地址是00-00-C0-15-AD-18，我想知道IP地址为192.168.0.4的主机的硬件地址

  * 在本局域网上的所有主机上运行的ARP进行都收到此ARP请求分组

  * 主机B在ARP请求分组中看到自己的IP地址，就向主机A发送ARP响应分组，并写入自己的硬件地址。其余的所有主机都不理睬这个ARP请求分组。ARP响应分组的主要内容是表明：“我的IP地址是192.168.0.4,我的硬件地址是08-00-2B-00-EE-AA”
  【请注意：虽然`ARP请求分组是广播发送`的，但`ARP响应分组是普通的单播`，即从一个源地址发送到一个目的地址】

  * 主机A收到主机B的ARP响应分组后，就在其ARP缓冲表中写入主机B的IP地址到硬件地址的映射

#### ARP缓存


#### 以太网帧的格式

1. 以太网的帧开销是18字节（目的MAC  6,源MAC  6，type 2, CRC 4）

以太网最小帧长为64字节。CSMA/CD协议（带有冲突检测的载波侦听多路存取）中，发送数据，每个工作站都会在发送数据前发送探测帧，这个帧的长度就是以太网规定的最小帧长。

【CSMA/CD的基本原理是：所有节点都共享网络传输信道，节点在发送数据之前，首先检测信道是否空闲，如果信道空闲则发送，否则就等待；在发送出信息后，再对冲突进行检测，当发现冲突时，则取消发送。】

2. 以太网的最小帧长是根据（ ）来确定的 【网络中检测冲突的最长时间】
