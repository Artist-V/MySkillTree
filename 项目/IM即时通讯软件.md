## IM即时通讯软件

1. makefile的作用是什么
2. 数据库与文件进行数据存储有哪些区别？
3. 数据库系统与文件系统的异同
4. 系统调用与库函数的区别
5. 为什么选择系统调用？什么时候使用系统调用操作文件？

***

1. makefile的作用是什么
* Makefile编写了一系列对程序编译的规则，编写好之后只需一个make指令（工程管理器）就可以实现对程序的自动编译。
* 优点：
  * 使用方便。只需一个make指令，无需每次都输入gcc命令行
  * 调试效率高。Make会检查每个源文件的时间戳，只有在上次编译之后修改过的文件才会被编译连接

* gcc的缺点：
  * 不方便，源文件个数越多，gcc命令行就越长，所以每次编译都比较麻烦
  * 效率很低，每次编译时，gcc会把所有的文件都会进行链接编译，要知道调试过程只有部分文件被修改，且调试过程占了整个开发过程的70%的

***

2. 数据库与文件进行数据存储有哪些区别？
每个独立的文件内部有结构性，但整体没有结构，而数据库实现了整体数据的结构化（本质区别）
* 文件存储容易出现数据冗余度大，浪费存储空间，而数据库中数据是面向整个系统的，数据可以被多个用户，多个应用共享的，所以数据冗余较小
* 文件存储的数据进行修改时，需要修改相应的程序（即数据和程序的相对独立性较差），而数据库则不需要（因为数据库的数据和程序是分开的额，这是DBMS的功劳）

***

3. 数据库系统与文件系统的异同
* 文件系统中的`数据和程序有一定的联系（对数据的操作要通过修改程序）`，但是数据库系统中的`数据和程序是分离`的。
* 文件系统用`文件`将数据长期保存在`外存`上，数据库系统用`数据库`来统一存储数据
* 文件系统用`操作系统中的存取方法`对数据进行管理，数据库系统用`DBMS`对数据进行统一管理和控制。

***

4. 系统调用与库函数的区别
* 系统调用是最底层的调用，是面向硬件的。而库函数的调用是面向应用开发的，相当于应用程序的的API接口。
* 各个操作系统的系统调用是不同的，因此系统调用一般没有跨操作系统的可移植性，而库函数在所有的ANSI C编译器中，C库是相同的，所以库函数的移植性很好（例如Windows环境可以用库函数，到了Linux环境照样可以）
* 库函数属于过程调用，调用开销较小；系统调用需要在用户空间和内核上下文环境间切换，开销较大。
* 库函数调用函数库中的一段程序，这段程序最终还是通过系统调用实现；系统调用调用的是系统内核的服务
>由此可见，即使使用库函数也会有系统调用的开销，为什么不直接使用系统调用呢?
>这是因为，文件的读写操作通常是大量的数据（大量是底层实现而言），这时，使用库函数可以大大减少系统调用的次数。

***

5. 为什么选择系统调用？什么时候使用系统调用操作文件？
* 原因：
  * 系统调用是访问文件最直接的方式，通常用于底层文件的访问。（即面向硬件的）
* 场合：
  * 系统调用是操作系统相关的，所以一般没有跨操作系统的移植性（即不需要跨系统时）

***

6. 为什么选择库函数？什么时候使用库函数操作文件？
* 原因：
  * 因为库函数提高了对文件访问的效率，使文件操作变得方便。而且减少了用户空间到内核空间切换时的开销。
* 场合：
  * 当应用程序对一般文件操作时，使用库函数。
  * 库函数的文件操作是独立于具体的操作系统平台。当需要在不同的系统平台实施操作时使用库函数操作文件。

***

7. 为什么数据库选择sqlite？还有那些嵌入式数据库？特点是什么？
SQLite数据库是一种嵌入式数据库，SQLite采用单文件的方式存放数据库的,速度大概比MySQL快一到二倍。在语句的操作上更类似于关系型数据库,使用非常方便。SQLite的使用不会涉及到版权问题，是开源的数据库系统，可以广泛地应用在商业性的产品中，
* SQLite具有以下特征：
  * 源代码开放：在嵌入式系统的程序开发中，开源免费的代码不仅可以减少产品的开发时间，节约开发成本，也有利于产品的维护和运行的稳定性。
  * 体积较小、速度快：它的全部源码由大约3万行C语言代码组成，大小约250KB，对数据的操作比目前流行的大多数数据库系统都快。
  * 功能完善：。
  * 提供丰富的API支持：对于C/C++、PHP、Perl等编程语言都可以通过API来访问SQLite数据库，能够与数据库文件进行通信。
* 其他数据库：
  * MySQL  体积比较小，速度快、总体成本低，特别是它的源码的开放特点，许多中小型网站为了降低网站的总体成本，都选择了MySQL数据库。
  * mSQL mSQL占用的系统资源较少，属于小型的关系型数据库系统，不能完全支持某些标准的SQL功能  基本上不支持任何嵌套的SQL语句，它仅仅只实现了功能较小的API
  * Solid  它是一款“轻量级”的数据库，小巧轻便(安装介质为30M左右，运行时只需要10M左右的系统资源)Solid 数据库的适用范围非常广阔，比如嵌入式领域、桌面系统、中小型业务系统，还可以应用在金融/通信等高端行业的业务支撑系统
* 嵌入式数据库还有：Sybase SQL；Anywhere，Oracle TimesTen等等
  * 主要特点就是体积适当，可移植性强，编程接口简单，代码开源。
